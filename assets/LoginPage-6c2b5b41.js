import{E as B}from"./el-button-6b8e91f4.js";import{E as $,a as q}from"./el-col-0bcda2cd.js";import{E as N}from"./el-checkbox-74177a6b.js";import{E as P,a as z}from"./el-form-item-653e1bb3.js";import{E as F}from"./el-link-5490c52b.js";import{E as M}from"./el-input-07d332e9.js";import{_ as T,r as _,u as j,a as A,w as D,o as g,c as v,b as a,d as e,e as d,f as t,g as x,h as G,E as k,i as H,j as E,l as w,p as J,k as K}from"./index-6f47666e.js";/* empty css                   */import"./isEqual-97d2888f.js";import"./_baseClone-c5224b31.js";const S=i=>(J("data-v-e9acbb11"),i=i(),K(),i),O=S(()=>x("h1",null,"注册",-1)),Q=S(()=>x("h1",null,"登录",-1)),W={class:"flex"},X={__name:"LoginPage",setup(i){const u=_(!1),m=_(),o=_({username:"",password:"",repassword:""}),y={username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:5,max:10,message:"用户名必须是5-10位的字符",trigger:"change"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{pattern:/^\S{6,15}$/,message:"密码必须是6-15位的非空字符",trigger:"blur"}],repassword:[{required:!0,message:"请再次输入密码",trigger:"blur"},{pattern:/^\S{6,15}$/,message:"密码必须是6-15的非空字符",trigger:"blur"},{validator:(f,l,n)=>{l!==o.value.password?n(new Error("两次输入密码不一致!")):n()},trigger:"blur"}]},C=async()=>{await m.value.validate(),await G(o.value),k.success("注册成功"),u.value=!1},h=j(),I=A(),U=async()=>{await m.value.validate();const f=await H(o.value);h.setToken(f.data.token),k.success("登录成功"),I.push("/")};return D(u,()=>{o.value={username:"",password:"",repassword:""}}),(f,l)=>{const n=q,s=P,p=M,b=B,c=F,V=z,L=N,R=$;return g(),v(R,{class:"login-page"},{default:a(()=>[e(n,{span:12,class:"bg"}),e(n,{span:6,offset:3,class:"form"},{default:a(()=>[u.value?(g(),v(V,{key:0,ref_key:"form",ref:m,size:"large",autocomplete:"off",model:o.value,rules:y},{default:a(()=>[e(s,null,{default:a(()=>[O]),_:1}),e(s,{prop:"username"},{default:a(()=>[e(p,{"prefix-icon":d(E),placeholder:"请输入用户名",modelValue:o.value.username,"onUpdate:modelValue":l[0]||(l[0]=r=>o.value.username=r)},null,8,["prefix-icon","modelValue"])]),_:1}),e(s,{prop:"password"},{default:a(()=>[e(p,{modelValue:o.value.password,"onUpdate:modelValue":l[1]||(l[1]=r=>o.value.password=r),"prefix-icon":d(w),type:"password",placeholder:"请输入密码"},null,8,["modelValue","prefix-icon"])]),_:1}),e(s,{prop:"repassword"},{default:a(()=>[e(p,{modelValue:o.value.repassword,"onUpdate:modelValue":l[2]||(l[2]=r=>o.value.repassword=r),"prefix-icon":d(w),type:"password",placeholder:"请输入再次密码"},null,8,["modelValue","prefix-icon"])]),_:1}),e(s,null,{default:a(()=>[e(b,{onClick:C,class:"button",type:"primary","auto-insert-space":""},{default:a(()=>[t(" 注册 ")]),_:1})]),_:1}),e(s,{class:"flex"},{default:a(()=>[e(c,{type:"info",underline:!1,onClick:l[3]||(l[3]=r=>u.value=!1)},{default:a(()=>[t(" ← 返回 ")]),_:1})]),_:1})]),_:1},8,["model"])):(g(),v(V,{key:1,model:o.value,rules:y,ref_key:"form",ref:m,size:"large",autocomplete:"off"},{default:a(()=>[e(s,null,{default:a(()=>[Q]),_:1}),e(s,{prop:"username"},{default:a(()=>[e(p,{modelValue:o.value.username,"onUpdate:modelValue":l[4]||(l[4]=r=>o.value.username=r),"prefix-icon":d(E),placeholder:"请输入用户名"},null,8,["modelValue","prefix-icon"])]),_:1}),e(s,{prop:"password"},{default:a(()=>[e(p,{modelValue:o.value.password,"onUpdate:modelValue":l[5]||(l[5]=r=>o.value.password=r),name:"password","prefix-icon":d(w),type:"password",placeholder:"请输入密码"},null,8,["modelValue","prefix-icon"])]),_:1}),e(s,{class:"flex"},{default:a(()=>[x("div",W,[e(L,null,{default:a(()=>[t("记住我")]),_:1}),e(c,{type:"primary",underline:!1},{default:a(()=>[t("忘记密码？")]),_:1})])]),_:1}),e(s,null,{default:a(()=>[e(b,{onClick:U,class:"button",type:"primary","auto-insert-space":""},{default:a(()=>[t("登录")]),_:1})]),_:1}),e(s,{class:"flex"},{default:a(()=>[e(c,{type:"info",underline:!1,onClick:l[6]||(l[6]=r=>u.value=!0)},{default:a(()=>[t(" 注册 → ")]),_:1})]),_:1})]),_:1},8,["model"]))]),_:1})]),_:1})}}},ne=T(X,[["__scopeId","data-v-e9acbb11"]]);export{ne as default};
